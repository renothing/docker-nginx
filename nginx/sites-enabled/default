#define your upstreams here
#upstream default_fpm_cluster {
# hash $request_uri consistent;
# server 127.0.0.1:9000 max_fails=10 fail_timeout=60s weight=5;
# server 127.0.0.2:9000 max_fails=5 weight=5;
# server 127.0.1.1:9000 max_fails=5 weight=3;
# keepalive 25;
#}
#vhost settings
server {
 listen 80 default_server reuseport so_keepalive=on fastopen=4;
 listen [::]:80 reuseport so_keepalive=on fastopen=4;
 server_name  _;
 root   /var/www;
 index  index.html index.htm index.php;
 include conf.d/open_cache.conf;

 #ssl
#listen 443 ssl http2 reuseport so_keepalive=on fastopen=4;
# listen [::]:443 ssl http2 reuseport so_keepalive=on fastopen=4;
#ssl_certificate ssl.d/your.fullchain1.pem;
#ssl_certificate_key ssl.d/your.privkey1.pem;
#ssl_session_timeout 1d;
#ssl_session_cache shared:SSL:50m;
#ssl_session_tickets on;
#ssl_dhparam ssl.d/your.dhparam.pem;

#ssl_protocols TLSv1.1 TLSv1.2;
#ssl_ciphers 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128:AES256:AES:DES-CBC3-SHA:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK';
#ssl_prefer_server_ciphers on;


 #error_page  404              /404.html;
 # redirect server error pages to the static page /50x.html
 #error_page   500 502 503 504  /50x.html;

 #enable php
#location ~* \.php(\?|/)*$ {
# fastcgi_pass  default_fpm_cluster;
# fastcgi_keep_conn on;
# fastcgi_index  index.php;
# include        fastcgi.conf;
# fastcgi_split_path_info ^(.+\.php)(.*)$;
#}
#location ~ ^/(pstatus|pping)$ {
# access_log off;
# #allow 127.0.0.1;
# #allow 1.2.3.4#your-ip;
# #deny all;
# include fastcgi.conf;
# fastcgi_pass default_fpm_cluster;
#}

 #no log notfound
 include conf.d/no_log_static.conf;
 location / {
  #for dedicated server and upstream
  #proxy_set_header Host $host;
  #for virtual host
  #proxy_set_header Host $proxy_host;
  #enable websocket
  #include conf.d/wsocket.conf;
  proxy_hide_header Vary;
  proxy_hide_header X-Powered-By;
 }
}
